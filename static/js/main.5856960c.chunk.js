(this["webpackJsonpbulletin-board"]=this["webpackJsonpbulletin-board"]||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=a(17),l=a(11),s=a(13),u=a(88),m=a(176),d=a(173),p=a(174),h=a(33),g=a(77),E=a(78),b=a(62),f=a(16),v=a(58),_=a.n(v),N=function(e){return e.posts.data},y=function(e){return"app/".concat("posts","/").concat(e)},O=y("FETCH_START"),j=y("FETCH_SUCCESS"),x=y("FETCH_POST_SUCCESS"),S=y("FETCH_ERROR"),C=y("UPDATE_POST_STATUS"),P=y("ADD_POST"),A=function(e){return{payload:e,type:O}},k=function(e){return{payload:e,type:S}},L=function(){return function(e,t){e(A());var a=t();0===a.posts.data.length&&a.posts.loading.active&&_.a.get("http://localhost:8000/api/posts").then((function(t){e({payload:t.data,type:j})})).catch((function(t){e(k(t.message||!0))}))}},T=function(e){return function(t,a){t(A()),_.a.get("http://localhost:8000/api/posts/".concat(e)).then((function(e){t({payload:e.data,type:x})})).catch((function(e){t(k(e.message||!0))}))}},w=function(e){return function(t,a){_.a.post("http://localhost:8000/api/posts/",e).then((function(e){t({payload:e.data,type:P}),console.log(e.data)})).catch((function(e){console.log(e)}))}};var W,D=function(e){return e.isLogged},U=(W="UPDATE_LOGIN_STATUS","app/".concat("login","/").concat(W)),F=function(e){return{payload:e,type:U}};var B=function(e){return e.currentUser},M=function(e){return"app/".concat("currentUser","/").concat(e)}("UPDATE_ADMIN_STATUS"),I=function(e){return{payload:e,type:M}};var G={currentUser:{id:"1",isAdmin:!1,name:"Adam",email:"aaa@bb.eu",phone:"888-777-666"},isLogged:!0,posts:{currentPost:{},data:[],loading:{active:!1,error:!1}}},q={posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O:return Object(f.a)(Object(f.a)({},e),{},{loading:{active:!0,error:!1}});case j:return Object(f.a)(Object(f.a)({},e),{},{loading:{active:!1,error:!1},data:t.payload});case x:return Object(f.a)(Object(f.a)({},e),{},{loading:{active:!1,error:!1},currentPost:t.payload});case S:return Object(f.a)(Object(f.a)({},e),{},{loading:{active:!1,error:t.payload}});case C:return Object(f.a)(Object(f.a)({},e),{},{data:Object(b.a)(e.data.map((function(e){return e.id===t.payload.id?t.payload:e})))});case P:return Object(f.a)(Object(f.a)({},e),{},{data:[t.payload].concat(Object(b.a)(e.data))});default:return e}},isLogged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case U:switch(t.payload){case"login":return!0;case"logout":return!1;default:return e}default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case M:return Object(f.a)(Object(f.a)({},e),{},{isAdmin:t.payload});default:return e}}};Object.keys(G).forEach((function(e){"undefined"==typeof q[e]&&(q[e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e})}));var R=Object(h.combineReducers)(q),H=Object(h.createStore)(R,G,Object(E.composeWithDevTools)(Object(h.applyMiddleware)(g.a))),z=a(2),X=a(177),J=a(28),Y=a.n(J),$=Object(s.b)((function(e){return{isLogged:e.isLogged}}),(function(e){return{updateLoginStatus:function(t){return e(F(t))},updateAdminStatus:function(t){return e(I(t))}}}))((function(e){var t=e.className,a=e.isLogged,n=e.updateLoginStatus,o=e.updateAdminStatus;return(r.a.createElement("div",{className:Object(z.a)(t,Y.a.root)},r.a.createElement(X.a,{className:Object(z.a)(Y.a.link),component:i.c,exact:!0,to:"".concat("/bulletin-board","/"),activeClassName:"active"},r.a.createElement("i",{className:Object(z.a)(Y.a.logo,"fas fa-bullhorn")}),"Announce It!"),r.a.createElement("div",null,r.a.createElement(X.a,{className:Y.a.link,component:i.c,exact:!0,to:"".concat("/bulletin-board","/"),activeClassName:"active"},"Homepage"),a&&r.a.createElement(X.a,{className:Y.a.link,component:i.c,to:"".concat("/bulletin-board","/posts"),activeClassName:"active"},"My posts"),a?r.a.createElement(X.a,{className:Y.a.link,component:i.c,to:"".concat("/bulletin-board","/"),activeClassName:"active",onClick:function(){n("logout"),o(!1)}},"Log Out"):r.a.createElement(X.a,{className:Y.a.link,component:i.c,to:"".concat("/bulletin-board","/login"),activeClassName:"active"},"Log In"))))})),K=a(82),Q=a.n(K),V=a(129),Z=a(83),ee=a.n(Z),te=a(163),ae=function(e){var t=e.className;e.children;return(r.a.createElement("div",{className:Object(z.a)(t,ee.a.root)},r.a.createElement(V.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://github.com/grzegorz-jodlowski"},"GitHub")," ",(new Date).getFullYear(),".")))},ne=function(e){var t=e.className;e.children;return(r.a.createElement("footer",{className:Object(z.a)(t,Q.a.root)},r.a.createElement(V.a,{variant:"h6",align:"center",gutterBottom:!0},"Announce It!"),r.a.createElement(V.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Local announcements and advertisements for free"),r.a.createElement(ae,null)))},re=a(164),oe=a(166),ce=a(165),ie=a(84),le=a.n(ie),se=Object(s.b)((function(e){return{}}),(function(e){return{updateLoginStatus:function(t){return e(F(t))},updateAdminStatus:function(t){return e(I(t))}}}))((function(e){var t=e.className,a=e.children,n=e.updateLoginStatus,o=e.updateAdminStatus;return(r.a.createElement("div",{className:Object(z.a)(t,le.a.root)},r.a.createElement(re.a,null,r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(oe.a,{disableGutters:!0},r.a.createElement($,null)))),r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(oe.a,null),r.a.createElement("select",{onChange:function(e){"login"===e.target.value?(n("login"),o(!1)):"admin"===e.target.value?(console.log(" : e.target.value",e.target.value),o(!0),n("login")):(n("logout"),o(!1))}},r.a.createElement("option",{value:"login"},"Login"),r.a.createElement("option",{value:"logout"},"Logout"),r.a.createElement("option",{value:"admin"},"admin")),a),r.a.createElement(ne,null)))})),ue=a(85),me=a.n(ue),de=a(168),pe=a(167),he=Object(pe.a)((function(e){return{root:{marginTop:"2rem"},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)}}})),ge=Object(s.b)((function(e){return{isLogged:D(e)}}))((function(e){var t=e.className,a=e.isLogged,n=he();return r.a.createElement("div",{className:Object(z.a)(t,n.root)},r.a.createElement(ce.a,{maxWidth:"sm"},r.a.createElement(V.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Bulletin board"),r.a.createElement(V.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Do you want to clean space around you? Add and sell things you no longer need. Help others find something interesting!"),r.a.createElement("div",{className:n.heroButtons},r.a.createElement(de.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(de.a,{item:!0},a&&r.a.createElement(X.a,{component:i.b,variant:"contained",color:"primary",to:"".concat("/bulletin-board","/post/add")},"Add new"))))))})),Ee=a(36),be=a(37),fe=a(40),ve=a(38),_e=a(86),Ne=a.n(_e),ye=a(171),Oe=a(170),je=a(169),xe=a(172),Se=Object(pe.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",transition:".2s","&:hover":{transform:"scale(1.04)"}},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},link:{textDecoration:"none"},price:{color:e.palette.primary.main,fontWeight:"700"}}})),Ce=function(e){var t=e.post,a=Se(),n=t.title,o=t.photo,c=t._id,l=(t.author,t.created,t.price);return r.a.createElement(i.b,{to:"".concat("/bulletin-board","/post/").concat(c),className:a.link},r.a.createElement(je.a,{className:a.card},r.a.createElement(Oe.a,{className:a.cardMedia,image:o}),r.a.createElement(ye.a,{className:a.cardContent},r.a.createElement(V.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),r.a.createElement(V.a,null,"Tap to read more...")),r.a.createElement(xe.a,null,r.a.createElement(V.a,{className:a.price},"Price: ".concat(l,"$")))))},Pe=function(e){Object(fe.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchPublishedPosts)()}},{key:"render",value:function(){var e=this.props.posts;return(r.a.createElement(ce.a,{className:Ne.a.cardGrid,maxWidth:"md"},r.a.createElement(de.a,{container:!0,spacing:4},e.map((function(e){return r.a.createElement(de.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(Ce,{post:e}))})))))}}]),a}(r.a.Component),Ae=Object(s.b)((function(e){return{posts:N(e)}}),(function(e){return{fetchPublishedPosts:function(){return e(L())}}}))(Pe),ke=function(e){var t=e.className;e.children;return(r.a.createElement("main",{className:Object(z.a)(t,me.a.root)},r.a.createElement(ge,null),r.a.createElement(Ae,null)))},Le=a(22),Te=a.n(Le),we=function(e){Object(fe.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(Ee.a)(this,a),t.apply(this,arguments)}return Object(be.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.fetchPostDetails;console.log(" : Component -> componentDidMount -> match",t.params._id),a(t.params._id)}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.isLogged,n=(e.match,e.currentUser),o=t.title,c=t.photo,l=t.text,s=t.price,u=t._id,m=t.phone,d=t.author,p=t.status,h=t.created,g=n.isAdmin,E=d===n.email;return r.a.createElement(ce.a,{className:Te.a.cardGrid,maxWidth:"md"},r.a.createElement(de.a,{item:!0},r.a.createElement(je.a,{className:Te.a.card},r.a.createElement(Oe.a,{className:Te.a.cardMedia,image:c}),r.a.createElement(ye.a,{className:Te.a.cardContent},r.a.createElement(V.a,{gutterBottom:!0,variant:"h5",component:"h2"},o),r.a.createElement(V.a,null,l),r.a.createElement(V.a,{className:Te.a.detail},"Price: ".concat(s,"$")),r.a.createElement(V.a,{className:Te.a.detail},"Phone: ".concat(m)),a&&(E||g)&&r.a.createElement(V.a,{className:Object(z.a)(Te.a.detail,Te.a.status)},"Status: ".concat(p))),r.a.createElement(xe.a,{className:Te.a.cardActions},a&&(E||g)&&r.a.createElement(X.a,{component:i.b,size:"medium",color:"primary",variant:"contained",to:"".concat("/bulletin-board","/post/").concat(u,"/edit")},"Edit"),r.a.createElement(X.a,{size:"medium",color:"primary",variant:"contained",href:"mailto:".concat(d)},"Email to seller"),r.a.createElement(V.a,{className:Te.a.created},"".concat(h))))))}}]),a}(r.a.Component),We=Object(s.b)((function(e){return{post:(t=e,t.posts.currentPost),isLogged:D(e),currentUser:B(e)};var t}),(function(e){return{fetchPostDetails:function(t){return e(T(t))}}}))(we),De=a(43),Ue=a.n(De),Fe=a(87),Be=a.n(Fe),Me=function(e){var t=e.className,a=e.children;return(r.a.createElement("div",{className:Object(z.a)(t,Be.a.root)},r.a.createElement("h2",null,"Podstrona logowania - endpoint do autoryzacji google"),a))},Ie=a(89),Ge=a(175),qe=function(e){Object(fe.a)(a,e);var t=Object(ve.a)(a);function a(){var e;Object(Ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={author:"",created:"",updated:"",status:"",title:"",text:"",photo:"",price:"",phone:"",location:""},e}return Object(be.a)(a,[{key:"handleClick",value:function(){var e=this,t=this.props.postToAPI,a=new Date;this.setState({created:a.toISOString(),updated:a.toISOString(),status:"published"},(function(){t(e.state),e.setState({author:"",created:"",updated:"",status:"",title:"",text:"",photo:"",price:"",phone:"",location:""})}))}},{key:"render",value:function(){var e=this;return this.props.isLogged?r.a.createElement("main",{className:Ue.a.layout},r.a.createElement(Ie.a,{className:Ue.a.paper},r.a.createElement(V.a,{className:Ue.a.header,component:"h1",variant:"h4",align:"center"},"Add your new ad"),r.a.createElement(de.a,{container:!0,spacing:3},r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"author",name:"author",label:"Email address",fullWidth:!0,autoComplete:"email",value:this.state.author,onChange:function(t){return e.setState({author:t.target.value})}})),r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"text",name:"text",label:"Description",fullWidth:!0,value:this.state.text,onChange:function(t){return e.setState({text:t.target.value})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"phone",name:"phone",label:"Phone",fullWidth:!0,value:this.state.phone,onChange:function(t){return e.setState({phone:t.target.value})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"price",name:"price",label:"Price",fullWidth:!0,value:this.state.price,onChange:function(t){return e.setState({price:t.target.value})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"photo",name:"photo",label:"Image link",fullWidth:!0,value:this.state.photo,onChange:function(t){return e.setState({photo:t.target.value})}}))),r.a.createElement("div",{className:Ue.a.buttons},r.a.createElement(X.a,{variant:"contained",color:"primary",className:Ue.a.button,onClick:function(){return e.handleClick()}},"Add")))):r.a.createElement(Me,null)}}]),a}(r.a.Component),Re=Object(s.b)((function(e){return{isLogged:D(e)}}),(function(e){return{postToAPI:function(t){return e(w(t))}}}))(qe),He=a(45),ze=(a(125),a(23)),Xe=a.n(ze),Je=function(e){var t=e.className;e.children;return(r.a.createElement("div",{className:Object(z.a)(t,Xe.a.root)},r.a.createElement("div",{className:Xe.a.face},r.a.createElement("div",{className:Xe.a.band},r.a.createElement("div",{className:Xe.a.red}),r.a.createElement("div",{className:Xe.a.white}),r.a.createElement("div",{className:Xe.a.blue})),r.a.createElement("div",{className:Xe.a.eyes}),r.a.createElement("div",{className:Xe.a.dimples}),r.a.createElement("div",{className:Xe.a.mouth})),r.a.createElement("h1",null,"Oops! Page not fount!"),r.a.createElement("div",{className:Xe.a.btn},r.a.createElement("a",{href:"".concat("/bulletin-board","/")}," Return to Homepage"))))},Ye=Object(pe.a)((function(e){return{header:{marginBottom:"25px"},layout:Object(He.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(800+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(He.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1),paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}})),$e=Object(s.b)((function(e){return{posts:N(e),isLogged:D(e),currentUser:B(e)}}))((function(e){var t=e.isLogged,a=e.currentUser,n=e.match,o=e.posts,c=Ye(),i=o.find((function(e){return e._id===n.params._id})),l=i.title,s=i.photo,u=i.text,m=i.price,d=(i._id,i.phone),p=i.author,h=(i.status,i.created,a.isAdmin),g=a.email;return t&&(p===g||h)?r.a.createElement("main",{className:c.layout},r.a.createElement(Ie.a,{className:c.paper},r.a.createElement(V.a,{className:c.header,component:"h1",variant:"h4",align:"center"},"Edit your ad"),r.a.createElement(de.a,{container:!0,spacing:3},r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"author",name:"author",label:"Email address",fullWidth:!0,autoComplete:"email",value:p})),r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,value:l})),r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(Ge.a,{required:!0,id:"text",name:"text",label:"Description",fullWidth:!0,value:u})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"phone",name:"phone",label:"Phone",fullWidth:!0,value:d})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"price",name:"price",label:"Price",fullWidth:!0,value:m})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ge.a,{id:"photo",name:"photo",label:"Image link",fullWidth:!0,value:s}))),r.a.createElement("div",{className:c.buttons},r.a.createElement(X.a,{variant:"contained",color:"primary",className:c.button},"Edit")))):t?r.a.createElement(Je,null):r.a.createElement(Me,null)})),Ke=(a(126),Object(pe.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)}}}))),Qe=Object(s.b)((function(e){return{isLogged:D(e),posts:N(e),currentUser:B(e)}}))((function(e){var t=e.isLogged,a=e.posts,n=e.currentUser,o=Ke(),c=n.isAdmin,i=n.email;return t?r.a.createElement(ce.a,{className:o.cardGrid,maxWidth:"md"},r.a.createElement(de.a,{container:!0,spacing:4},a.map((function(e){return e.author===i?r.a.createElement(de.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(Ce,{post:e})):c?r.a.createElement(de.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(Ce,{post:e})):null})))):r.a.createElement(Me,null)})),Ve=Object(u.a)({palette:{primary:{main:"#2B4C6F"},secondary:{main:"#c0c0c0"}}}),Ze=function(){return r.a.createElement(s.a,{store:H},r.a.createElement(i.a,null,r.a.createElement(m.b,{injectFirst:!0},r.a.createElement(d.a,{theme:Ve},r.a.createElement(p.a,null),r.a.createElement(se,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/"),component:ke}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/post/add"),component:Re}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/post/:_id"),component:We}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/post/:_id/edit"),component:$e}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/posts"),component:Qe}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","/login"),component:Me}),r.a.createElement(l.a,{exact:!0,path:"".concat("/bulletin-board","*"),component:Je})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,t,a){e.exports={cardGrid:"Post_cardGrid__18cAY",card:"Post_card__3Mupq",cardMedia:"Post_cardMedia__3mler",cardContent:"Post_cardContent__337nJ",cardActions:"Post_cardActions__28KaQ",detail:"Post_detail__1cXpS",status:"Post_status__NeL-f",created:"Post_created__2Q9EB"}},23:function(e,t,a){e.exports={face:"NotFound_face__2pvK2",band:"NotFound_band__22MLl",red:"NotFound_red__24niO",white:"NotFound_white__1qtNv",blue:"NotFound_blue__3m7su",eyes:"NotFound_eyes__2ziqw",dimples:"NotFound_dimples__Ytn1O",mouth:"NotFound_mouth__UjZAx",btn:"NotFound_btn__1_vBl"}},28:function(e,t,a){e.exports={root:"PageNav_root__1kTnF",link:"PageNav_link__dLwpU",logo:"PageNav_logo__2X_X1"}},43:function(e,t,a){e.exports={header:"PostAdd_header__3S7qj",layout:"PostAdd_layout__3dm9D",paper:"PostAdd_paper__-IEiC",buttons:"PostAdd_buttons__2OjOL",button:"PostAdd_button__2WREw"}},82:function(e,t,a){e.exports={root:"Footer_root__3S8dX"}},83:function(e,t,a){},84:function(e,t,a){e.exports={root:"MainLayout_root__1tCmj"}},85:function(e,t,a){},86:function(e,t,a){e.exports={cardGrid:"Cards_cardGrid__17zTV"}},87:function(e,t,a){},98:function(e,t,a){e.exports=a(127)}},[[98,1,2]]]);
//# sourceMappingURL=main.5856960c.chunk.js.map